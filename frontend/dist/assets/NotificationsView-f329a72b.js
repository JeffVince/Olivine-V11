import{a as B}from"./index-cc140e55.js";import{aa as I,c as R,v as b,a4 as n,a6 as _,a7 as m,a8 as o,A as i,E as g,ab as C,ac as S,F as $,ad as F,_ as v,a2 as H,D as q,W as k,u}from"./vue-3f691d55.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import"./apollo-30a378f4.js";import"./supabase-cf010ec4.js";const f=B(),E=I();function M(){return{notifications:R(()=>f.items)}}function O(){function a(t){f.markRead(t.id),t.link&&E.push(t.link)}function c(t){f.remove(t)}function e(){f.clear()}function s(t){return new Date(t).toLocaleString()}return{open:a,remove:c,clear:e,formatDate:s}}const z=b({__name:"NotificationsHeader",setup(a){return(c,e)=>{const s=n("v-col"),t=n("v-row");return _(),m(t,{class:"mb-4"},{default:o(()=>[i(s,{cols:"12"},{default:o(()=>e[0]||(e[0]=[g("h1",{class:"text-h4 font-weight-bold"}," Notifications & Inbox ",-1),g("p",{class:"text-subtitle-1 text-medium-emphasis"}," Manage your notifications and inbox messages ",-1)])),_:1,__:[0]})]),_:1})}}});const T=N(z,[["__scopeId","data-v-19e67b5c"]]),W=b({__name:"NotificationsList",props:{notifications:{type:Array,required:!0},formatDate:{type:Function,required:!0}},emits:["open","remove","clear"],setup(a,{emit:c}){const e=c;function s(l){e("open",l)}function t(l){e("remove",l)}function d(){e("clear")}return(l,p)=>{const w=n("v-list-item-title"),h=n("v-list-item-subtitle"),x=n("v-btn"),y=n("v-list-item"),D=n("v-list"),V=n("v-card-actions"),A=n("v-card");return _(),m(A,{class:"glass-card"},{default:o(()=>[i(D,{density:"comfortable"},{default:o(()=>[(_(!0),C($,null,S(a.notifications,r=>(_(),m(y,{key:r.id,onClick:L=>s(r)},{append:o(()=>[i(x,{icon:"mdi-close",onClick:H(L=>t(r.id),["stop"])},null,8,["onClick"])]),default:o(()=>[i(w,{class:q({"font-weight-medium":!r.read})},{default:o(()=>[v(k(r.message),1)]),_:2},1032,["class"]),i(h,null,{default:o(()=>[v(k(a.formatDate(r.createdAt)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),a.notifications.length===0?(_(),m(y,{key:0,title:"No notifications"})):F("",!0)]),_:1}),i(V,null,{default:o(()=>[i(x,{variant:"text",onClick:d},{default:o(()=>p[0]||(p[0]=[v(" Clear All ",-1)])),_:1,__:[0]})]),_:1})]),_:1})}}});const j=N(W,[["__scopeId","data-v-78eb4b92"]]),G=b({__name:"NotificationsView",setup(a){const{notifications:c}=M(),{open:e,remove:s,clear:t,formatDate:d}=O();return(l,p)=>(_(),C("div",null,[i(T),i(j,{notifications:u(c),"format-date":u(d),onOpen:u(e),onRemove:u(s),onClear:u(t)},null,8,["notifications","format-date","onOpen","onRemove","onClear"])]))}});const X=N(G,[["__scopeId","data-v-9eb21679"]]);export{X as default};
