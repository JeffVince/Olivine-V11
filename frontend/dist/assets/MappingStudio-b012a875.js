import{a as ne}from"./index-84fcf405.js";import{v as re,r as x,M as de,ac as j,A as e,a9 as a,a5 as i,a7 as C,E as n,_ as s,F as L,ad as I,a8 as F,W as d,D as ue,B as ce}from"./vue-063894f7.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";import"./apollo-3ed1981b.js";import"./supabase-cf010ec4.js";const me={class:"text-subtitle-1 mb-2"},ve={class:"text-body-2 text-medium-emphasis"},_e={class:"flex-grow-1"},fe={class:"text-subtitle-1"},ye={class:"text-body-2 mb-3"},ge={class:"text-h6"},xe={class:"text-h6"},Ce={class:"text-h6"},be={class:"d-flex align-center"},Me=re({__name:"MappingStudio",setup(ke){const v=ne(),V=x("grid"),f=x(!1),T=x(!1),D=x(!1),_=x([]),r=x({name:"",description:"",type:"",sourceType:""}),O=[{id:"1",name:"File Metadata",description:"Map file properties to database fields",icon:"mdi-file",color:"blue",fields:8,type:"file-metadata"},{id:"2",name:"User Directory",description:"Map user information from directory services",icon:"mdi-account-group",color:"green",fields:12,type:"user-directory"},{id:"3",name:"Project Structure",description:"Map project hierarchy and relationships",icon:"mdi-folder-multiple",color:"orange",fields:6,type:"project-structure"},{id:"4",name:"Asset Metadata",description:"Map media asset properties and tags",icon:"mdi-image-multiple",color:"purple",fields:15,type:"asset-metadata"}],Z=[{title:"File Metadata",value:"file-metadata"},{title:"User Directory",value:"user-directory"},{title:"Project Structure",value:"project-structure"},{title:"Asset Metadata",value:"asset-metadata"},{title:"Custom",value:"custom"}],G=[{title:"Dropbox",value:"dropbox"},{title:"Google Drive",value:"googledrive"},{title:"Local Files",value:"local"},{title:"Database",value:"database"},{title:"API",value:"api"}],H=[{title:"Name",key:"name",sortable:!0},{title:"Type",key:"type",sortable:!0},{title:"Status",key:"status",sortable:!0},{title:"Fields",key:"fieldCount",sortable:!0},{title:"Transforms",key:"transformCount",sortable:!0},{title:"Last Run",key:"lastRun",sortable:!0},{title:"Actions",key:"actions",sortable:!1}];function N(o){switch(o){case"file-metadata":return"blue";case"user-directory":return"green";case"project-structure":return"orange";case"asset-metadata":return"purple";default:return"grey"}}function R(o){switch(o){case"file-metadata":return"mdi-file";case"user-directory":return"mdi-account-group";case"project-structure":return"mdi-folder-multiple";case"asset-metadata":return"mdi-image-multiple";default:return"mdi-map"}}function U(o){return new Date(o).toLocaleDateString()}function W(o){r.value={name:`${o.name} Mapping`,description:o.description,type:o.type,sourceType:"dropbox"},f.value=!0}async function J(){D.value=!0;try{await new Promise(t=>setTimeout(t,1e3));const o={id:Date.now().toString(),name:r.value.name,description:r.value.description,type:r.value.type,status:"inactive",fieldCount:0,transformCount:0};_.value.push(o),f.value=!1,r.value={name:"",description:"",type:"",sourceType:""},v.add("success","Mapping created successfully")}catch{v.add("error","Failed to create mapping")}finally{D.value=!1}}function z(o){v.add("info",`Opening editor for ${o.name}`)}function K(o){z(o)}async function A(o){try{await new Promise(t=>setTimeout(t,2e3)),v.add("success",`Test completed for ${o.name}`)}catch{v.add("error",`Test failed for ${o.name}`)}}function Q(o){const t={...o,id:Date.now().toString(),name:`${o.name} (Copy)`,status:"inactive"};_.value.push(t),v.add("success","Mapping duplicated successfully")}function X(o){o.status=o.status==="active"?"inactive":"active",v.add("info",`Mapping ${o.status==="active"?"activated":"deactivated"}`)}function q(o){const t=_.value.findIndex(u=>u.id===o.id);t>-1&&(_.value.splice(t,1),v.add("info","Mapping deleted"))}return de(()=>{_.value=[{id:"1",name:"Dropbox File Metadata",description:"Maps Dropbox file properties to project database",type:"file-metadata",status:"active",fieldCount:6,transformCount:3,lastRun:"2024-01-15T10:30:00Z"},{id:"2",name:"User Directory Sync",description:"Synchronizes user information from Active Directory",type:"user-directory",status:"active",fieldCount:8,transformCount:2,lastRun:"2024-01-14T15:45:00Z"},{id:"3",name:"Project Structure",description:"Maps project folder hierarchy",type:"project-structure",status:"inactive",fieldCount:4,transformCount:1}]}),(o,t)=>{const u=i("v-col"),c=i("v-btn"),y=i("v-row"),p=i("v-icon"),M=i("v-card-title"),S=i("v-avatar"),$=i("v-chip"),g=i("v-card-text"),b=i("v-card"),Y=i("v-btn-toggle"),k=i("v-list-item-title"),w=i("v-list-item"),h=i("v-divider"),ee=i("v-list"),te=i("v-menu"),P=i("v-spacer"),B=i("v-card-actions"),ae=i("v-data-table"),le=i("v-text-field"),oe=i("v-textarea"),E=i("v-select"),se=i("v-form"),ie=i("v-dialog");return C(),j("div",null,[e(y,{class:"mb-4"},{default:a(()=>[e(u,{cols:"12",md:"8"},{default:a(()=>t[9]||(t[9]=[n("h1",{class:"text-h4 font-weight-bold"}," Mapping Studio ",-1),n("p",{class:"text-subtitle-1 text-medium-emphasis"}," Configure data transformations and field mappings ",-1)])),_:1,__:[9]}),e(u,{cols:"12",md:"4",class:"text-right"},{default:a(()=>[e(c,{color:"primary","prepend-icon":"mdi-plus",class:"liquid-button",onClick:t[0]||(t[0]=l=>f.value=!0)},{default:a(()=>t[10]||(t[10]=[s(" Create Mapping ",-1)])),_:1,__:[10]})]),_:1})]),_:1}),e(y,{class:"mb-6"},{default:a(()=>[e(u,{cols:"12"},{default:a(()=>[e(b,{class:"glass-card"},{default:a(()=>[e(M,null,{default:a(()=>[e(p,{class:"mr-2"},{default:a(()=>t[11]||(t[11]=[s(" mdi-file-document-multiple ",-1)])),_:1,__:[11]}),t[12]||(t[12]=s(" Mapping Templates ",-1))]),_:1,__:[12]}),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[(C(),j(L,null,I(O,l=>e(u,{key:l.id,cols:"12",sm:"6",md:"4"},{default:a(()=>[e(b,{variant:"outlined",class:"template-card glass-card",onClick:m=>W(l)},{default:a(()=>[e(g,{class:"text-center pa-4"},{default:a(()=>[e(S,{color:l.color,size:"48",class:"mb-3"},{default:a(()=>[e(p,{icon:l.icon,size:"24"},null,8,["icon"])]),_:2},1032,["color"]),n("h4",me,d(l.name),1),n("p",ve,d(l.description),1),e($,{color:l.color,size:"small",variant:"tonal",class:"mt-2"},{default:a(()=>[s(d(l.fields)+" fields ",1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(y,null,{default:a(()=>[e(u,{cols:"12"},{default:a(()=>[e(b,{class:"glass-card"},{default:a(()=>[e(M,{class:"d-flex align-center justify-space-between"},{default:a(()=>[n("div",null,[e(p,{class:"mr-2"},{default:a(()=>t[13]||(t[13]=[s(" mdi-map ",-1)])),_:1,__:[13]}),t[14]||(t[14]=s(" Active Mappings ",-1))]),e(Y,{modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=l=>V.value=l),mandatory:""},{default:a(()=>[e(c,{value:"grid",size:"small"},{default:a(()=>[e(p,null,{default:a(()=>t[15]||(t[15]=[s("mdi-view-grid",-1)])),_:1,__:[15]})]),_:1}),e(c,{value:"list",size:"small"},{default:a(()=>[e(p,null,{default:a(()=>t[16]||(t[16]=[s("mdi-view-list",-1)])),_:1,__:[16]})]),_:1})]),_:1},8,["modelValue"])]),_:1}),V.value==="grid"?(C(),F(g,{key:0},{default:a(()=>[e(y,null,{default:a(()=>[(C(!0),j(L,null,I(_.value,l=>(C(),F(u,{key:l.id,cols:"12",md:"6",lg:"4"},{default:a(()=>[e(b,{class:ue(["mapping-card glass-card",{active:l.status==="active"}])},{default:a(()=>[e(M,{class:"d-flex align-center"},{default:a(()=>[e(S,{color:N(l.type),class:"mr-3",size:"32"},{default:a(()=>[e(p,{icon:R(l.type),size:"16"},null,8,["icon"])]),_:2},1032,["color"]),n("div",_e,[n("div",fe,d(l.name),1),e($,{color:l.status==="active"?"success":"warning",size:"x-small",variant:"tonal"},{default:a(()=>[s(d(l.status),1)]),_:2},1032,["color"])]),e(te,null,{activator:a(({props:m})=>[e(c,ce({ref_for:!0},m,{icon:"mdi-dots-vertical",variant:"text",size:"small"}),null,16)]),default:a(()=>[e(ee,null,{default:a(()=>[e(w,{onClick:m=>z(l)},{default:a(()=>[e(k,null,{default:a(()=>[e(p,{start:""},{default:a(()=>t[17]||(t[17]=[s(" mdi-pencil ",-1)])),_:1,__:[17]}),t[18]||(t[18]=s(" Edit ",-1))]),_:1,__:[18]})]),_:2},1032,["onClick"]),e(w,{onClick:m=>Q(l)},{default:a(()=>[e(k,null,{default:a(()=>[e(p,{start:""},{default:a(()=>t[19]||(t[19]=[s(" mdi-content-copy ",-1)])),_:1,__:[19]}),t[20]||(t[20]=s(" Duplicate ",-1))]),_:1,__:[20]})]),_:2},1032,["onClick"]),e(w,{onClick:m=>A(l)},{default:a(()=>[e(k,null,{default:a(()=>[e(p,{start:""},{default:a(()=>t[21]||(t[21]=[s(" mdi-play ",-1)])),_:1,__:[21]}),t[22]||(t[22]=s(" Test ",-1))]),_:1,__:[22]})]),_:2},1032,["onClick"]),e(h),e(w,{class:"text-error",onClick:m=>q(l)},{default:a(()=>[e(k,null,{default:a(()=>[e(p,{start:""},{default:a(()=>t[23]||(t[23]=[s(" mdi-delete ",-1)])),_:1,__:[23]}),t[24]||(t[24]=s(" Delete ",-1))]),_:1,__:[24]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(g,null,{default:a(()=>[n("p",ye,d(l.description),1),e(y,{class:"text-center"},{default:a(()=>[e(u,{cols:"4"},{default:a(()=>[n("div",ge,d(l.fieldCount),1),t[25]||(t[25]=n("div",{class:"text-caption text-medium-emphasis"}," Fields ",-1))]),_:2,__:[25]},1024),e(u,{cols:"4"},{default:a(()=>[n("div",xe,d(l.transformCount),1),t[26]||(t[26]=n("div",{class:"text-caption text-medium-emphasis"}," Transforms ",-1))]),_:2,__:[26]},1024),e(u,{cols:"4"},{default:a(()=>[n("div",Ce,d(l.lastRun?U(l.lastRun):"Never"),1),t[27]||(t[27]=n("div",{class:"text-caption text-medium-emphasis"}," Last Run ",-1))]),_:2,__:[27]},1024)]),_:2},1024)]),_:2},1024),e(B,null,{default:a(()=>[e(c,{color:l.status==="active"?"warning":"success",variant:"outlined",size:"small",onClick:m=>X(l)},{default:a(()=>[s(d(l.status==="active"?"Deactivate":"Activate"),1)]),_:2},1032,["color","onClick"]),e(P),e(c,{color:"primary",variant:"flat",size:"small",onClick:m=>K(l)},{default:a(()=>t[28]||(t[28]=[s(" Open Editor ",-1)])),_:2,__:[28]},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),_:1})):(C(),F(g,{key:1},{default:a(()=>[e(ae,{items:_.value,headers:H,"item-key":"id",density:"compact"},{"item.name":a(({item:l})=>[n("div",be,[e(S,{color:N(l.type),class:"mr-3",size:"24"},{default:a(()=>[e(p,{icon:R(l.type),size:"12"},null,8,["icon"])]),_:2},1032,["color"]),s(" "+d(l.name),1)])]),"item.status":a(({item:l})=>[e($,{color:l.status==="active"?"success":"warning",size:"small",variant:"tonal"},{default:a(()=>[s(d(l.status),1)]),_:2},1032,["color"])]),"item.lastRun":a(({item:l})=>[s(d(l.lastRun?U(l.lastRun):"Never"),1)]),"item.actions":a(({item:l})=>[e(c,{icon:"mdi-pencil",variant:"text",size:"small",onClick:m=>z(l)},null,8,["onClick"]),e(c,{icon:"mdi-play",variant:"text",size:"small",onClick:m=>A(l)},null,8,["onClick"]),e(c,{icon:"mdi-delete",variant:"text",size:"small",color:"error",onClick:m=>q(l)},null,8,["onClick"])]),_:1},8,["items"])]),_:1}))]),_:1})]),_:1})]),_:1}),e(ie,{modelValue:f.value,"onUpdate:modelValue":t[8]||(t[8]=l=>f.value=l),"max-width":"600"},{default:a(()=>[e(b,null,{default:a(()=>[e(M,null,{default:a(()=>t[29]||(t[29]=[s("Create New Mapping",-1)])),_:1,__:[29]}),e(g,null,{default:a(()=>[e(se,{ref:"createForm",modelValue:T.value,"onUpdate:modelValue":t[6]||(t[6]=l=>T.value=l)},{default:a(()=>[e(le,{modelValue:r.value.name,"onUpdate:modelValue":t[2]||(t[2]=l=>r.value.name=l),label:"Mapping Name","prepend-icon":"mdi-map",rules:[l=>!!l||"Name is required"],required:""},null,8,["modelValue","rules"]),e(oe,{modelValue:r.value.description,"onUpdate:modelValue":t[3]||(t[3]=l=>r.value.description=l),label:"Description","prepend-icon":"mdi-text",rows:"3"},null,8,["modelValue"]),e(E,{modelValue:r.value.type,"onUpdate:modelValue":t[4]||(t[4]=l=>r.value.type=l),items:Z,label:"Mapping Type","prepend-icon":"mdi-format-list-bulleted-type",rules:[l=>!!l||"Type is required"],required:""},null,8,["modelValue","rules"]),e(E,{modelValue:r.value.sourceType,"onUpdate:modelValue":t[5]||(t[5]=l=>r.value.sourceType=l),items:G,label:"Source Type","prepend-icon":"mdi-database",rules:[l=>!!l||"Source type is required"],required:""},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),e(B,null,{default:a(()=>[e(P),e(c,{variant:"text",onClick:t[7]||(t[7]=l=>f.value=!1)},{default:a(()=>t[30]||(t[30]=[s(" Cancel ",-1)])),_:1,__:[30]}),e(c,{color:"primary",disabled:!T.value,loading:D.value,onClick:J},{default:a(()=>t[31]||(t[31]=[s(" Create Mapping ",-1)])),_:1,__:[31]},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});const Se=pe(Me,[["__scopeId","data-v-651683ab"]]);export{Se as default};
