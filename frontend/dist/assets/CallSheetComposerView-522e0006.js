import{r as S,c as C,v as b,a7 as D,a8 as c,a4 as f,a6 as h,A as d,ab as _,E as t,W as o,_ as m,u as p}from"./vue-3f691d55.js";function w(){const r=S(null),a=S(!1),l=S(null),i=C(()=>!1);async function u(s){a.value=!0,l.value=null;try{}catch(v){l.value="Failed to load call sheet",console.error(v)}finally{a.value=!1}}async function e(){if(r.value){a.value=!0,l.value=null;try{}catch(s){l.value="Failed to save draft",console.error(s)}finally{a.value=!1}}}async function n(){if(r.value){a.value=!0,l.value=null;try{}catch(s){l.value="Failed to publish call sheet",console.error(s)}finally{a.value=!1}}}return{callSheet:r,loading:a,error:l,isDirty:i,loadCallSheet:u,saveDraft:e,publishFinal:n}}const P={key:0},k={key:1},F=b({__name:"CallSheetPreview",props:{callSheet:{},loading:{type:Boolean}},emits:["save-draft","publish"],setup(r,{emit:a}){const l=a;function i(){l("save-draft")}function u(){l("publish")}return(e,n)=>{const s=f("v-card-text"),v=f("v-btn"),g=f("v-card-actions"),y=f("v-card");return h(),D(y,{class:"glass-card"},{default:c(()=>[d(s,null,{default:c(()=>[e.callSheet?(h(),_("div",P,[t("h3",null,o(e.callSheet.title),1),t("p",null,"Date: "+o(e.callSheet.date),1),t("p",null,"Location: "+o(e.callSheet.location),1),t("p",null,"Cast: "+o(e.callSheet.cast.join(", ")),1),t("p",null,"Crew: "+o(e.callSheet.crew.join(", ")),1),t("p",null,"Scenes: "+o(e.callSheet.scenes.join(", ")),1),t("p",null,"Notes: "+o(e.callSheet.notes),1)])):(h(),_("div",k,n[0]||(n[0]=[t("p",null,"Preview and actions will be wired to generation API.",-1)])))]),_:1}),d(g,null,{default:c(()=>[d(v,{color:"primary",loading:e.loading,disabled:!e.callSheet,onClick:i},{default:c(()=>n[1]||(n[1]=[m(" Save Draft PDF ",-1)])),_:1,__:[1]},8,["loading","disabled"]),d(v,{color:"success",loading:e.loading,disabled:!e.callSheet,onClick:u},{default:c(()=>n[2]||(n[2]=[m(" Publish Final ",-1)])),_:1,__:[2]},8,["loading","disabled"])]),_:1})]),_:1})}}}),N=b({__name:"CallSheetComposerView",setup(r){const{callSheet:a,loading:l,saveDraft:i,publishFinal:u}=w();return(e,n)=>(h(),_("div",null,[n[0]||(n[0]=t("h2",null,"Call Sheet Composer",-1)),d(F,{"call-sheet":p(a),loading:p(l),onSaveDraft:p(i),onPublish:p(u)},null,8,["call-sheet","loading","onSaveDraft","onPublish"])]))}});export{N as default};
