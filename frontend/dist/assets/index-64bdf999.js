import{r as x,c as q,ab as h,v as H,a8 as b,a9 as o,a5 as l,a7 as f,A as t,E as m,_ as s,M as ee,ac as M,u,a as R,F,ad as T,W as V,a3 as W,B as te}from"./vue-b3dbcb9b.js";import{u as J,a as K}from"./index-c29b4afb.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import"./apollo-9599811a.js";import"./supabase-cf010ec4.js";const g=x(!1),oe=x(!1),C=x(!1),w=x(null),L=x({name:"",description:void 0,settings:{}});x(!1);const z=J(),Y=q(()=>z.projects),le=h(),O=K(),G=r=>{le.push(`/projects/${r}`)},ae=r=>{w.value=r,oe.value=!0},ne=r=>{z.archiveProject(r.id),O.add("success",`Project ${r.name} archived successfully`)},se=r=>{w.value=r,C.value=!0},re=()=>{w.value&&(z.deleteProject(w.value.id),O.add("success",`Project ${w.value.name} deleted successfully`),C.value=!1)},ue=()=>{z.createProject(L.value),O.add("success","Project created successfully"),g.value=!1,L.value={name:"",description:void 0,settings:{}}},de=r=>{switch(r){case"active":return"success";case"error":return"error";case"archived":return"warning";case"syncing":return"info";default:return"grey"}},ie=r=>{switch(r){case"s3":return"mdi-aws";case"gcs":return"mdi-google-cloud";case"azure":return"mdi-microsoft-azure";case"local":return"mdi-folder";default:return"mdi-help-circle"}},ce=r=>new Date(r).toLocaleDateString(),_e=H({__name:"CreateProjectDialog",props:{modelValue:{type:Boolean},project:{}},emits:["update:modelValue","save"],setup(r,{emit:N}){const A=r,e=N,v=x(!1),p=[c=>!!c||"Project name is required",c=>c&&c.length<=50||"Project name must be less than 50 characters"],y=[{text:"Active",value:"active"},{text:"Archived",value:"archived"}],d=q({get:()=>A.project,set:c=>{}}),j=q({get:()=>A.modelValue,set:c=>{e("update:modelValue",c)}}),D=()=>{e("update:modelValue",!1)},S=()=>{v.value&&e("save",d.value)};return(c,n)=>{const k=l("v-card-title"),U=l("v-text-field"),B=l("v-textarea"),E=l("v-select"),$=l("v-form"),P=l("v-card-text"),I=l("v-spacer"),a=l("v-btn"),i=l("v-card-actions"),X=l("v-card"),Z=l("v-dialog");return f(),b(Z,{modelValue:j.value,"onUpdate:modelValue":n[4]||(n[4]=_=>j.value=_),"max-width":"500px"},{default:o(()=>[t(X,null,{default:o(()=>[t(k,null,{default:o(()=>n[5]||(n[5]=[m("span",{class:"text-h5"},"Create New Project",-1)])),_:1,__:[5]}),t(P,null,{default:o(()=>[t($,{ref:"form",modelValue:v.value,"onUpdate:modelValue":n[3]||(n[3]=_=>v.value=_)},{default:o(()=>[t(U,{modelValue:d.value.name,"onUpdate:modelValue":n[0]||(n[0]=_=>d.value.name=_),label:"Project Name",rules:p,required:""},null,8,["modelValue"]),t(B,{modelValue:d.value.description,"onUpdate:modelValue":n[1]||(n[1]=_=>d.value.description=_),label:"Description",rows:"3"},null,8,["modelValue"]),t(E,{modelValue:d.value.status,"onUpdate:modelValue":n[2]||(n[2]=_=>d.value.status=_),items:y,label:"Status"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),t(i,null,{default:o(()=>[t(I),t(a,{color:"blue-darken-1",variant:"text",onClick:D},{default:o(()=>n[6]||(n[6]=[s(" Cancel ",-1)])),_:1,__:[6]}),t(a,{color:"blue-darken-1",variant:"text",onClick:S},{default:o(()=>n[7]||(n[7]=[s(" Save ",-1)])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const me=Q(_e,[["__scopeId","data-v-665e493a"]]),ve={class:"mb-2"},pe={class:"text-caption text-medium-emphasis mb-2"},fe={class:"d-flex flex-wrap gap-1"},xe=H({__name:"index",setup(r){const N=J();return K(),ee(()=>{N.fetchProjects()}),(A,e)=>{const v=l("v-col"),p=l("v-btn"),y=l("v-row"),d=l("v-icon"),j=l("v-card-title"),D=l("v-chip"),S=l("v-card-text"),c=l("v-spacer"),n=l("v-list-item-title"),k=l("v-list-item"),U=l("v-divider"),B=l("v-list"),E=l("v-menu"),$=l("v-card-actions"),P=l("v-card"),I=l("v-dialog");return f(),M("div",null,[t(y,{class:"mb-4"},{default:o(()=>[t(v,{cols:"12",md:"8"},{default:o(()=>e[6]||(e[6]=[m("h1",{class:"text-h4 font-weight-bold"}," Projects ",-1),m("p",{class:"text-subtitle-1 text-medium-emphasis"}," Manage your production projects and connect storage sources ",-1)])),_:1,__:[6]}),t(v,{cols:"12",md:"4",class:"text-right"},{default:o(()=>[t(p,{color:"primary",size:"large","prepend-icon":"mdi-plus",class:"liquid-button",onClick:e[0]||(e[0]=a=>g.value=!0)},{default:o(()=>e[7]||(e[7]=[s(" New Project ",-1)])),_:1,__:[7]})]),_:1})]),_:1}),u(Y).length>0?(f(),b(y,{key:0},{default:o(()=>[(f(!0),M(F,null,T(u(Y),a=>(f(),b(v,{key:a.id,cols:"12",md:"6",lg:"4"},{default:o(()=>[t(P,{class:"project-card glass-card",hover:"",onClick:i=>u(G)(a.id)},{default:o(()=>[t(j,{class:"d-flex align-center"},{default:o(()=>[t(d,{class:"mr-2",color:"primary"},{default:o(()=>e[8]||(e[8]=[s(" mdi-folder-multiple ",-1)])),_:1,__:[8]}),s(" "+V(a.name),1)]),_:2},1024),t(S,null,{default:o(()=>[m("div",ve,[t(D,{color:u(de)(a.status),size:"small",variant:"tonal"},{default:o(()=>[s(V(a.status),1)]),_:2},1032,["color"])]),m("div",pe," Last activity: "+V(a.lastActivity?u(ce)(a.lastActivity):"N/A"),1),m("div",fe,[(f(!0),M(F,null,T(a.integrations,i=>(f(),b(D,{key:i.type,size:"x-small",color:i.connected?"success":"warning",variant:"outlined"},{default:o(()=>[t(d,{start:"",size:"x-small"},{default:o(()=>[s(V(u(ie)(i.type)),1)]),_:2},1024),s(" "+V(i.type),1)]),_:2},1032,["color"]))),128))])]),_:2},1024),t($,null,{default:o(()=>[t(p,{variant:"text",color:"primary",onClick:W(i=>u(G)(a.id),["stop"])},{default:o(()=>e[9]||(e[9]=[s(" Open Project ",-1)])),_:2,__:[9]},1032,["onClick"]),t(c),t(E,null,{activator:o(({props:i})=>[t(p,te({icon:"mdi-dots-vertical",variant:"text",size:"small"},{ref_for:!0},i,{onClick:e[1]||(e[1]=W(()=>{},["stop"]))}),null,16)]),default:o(()=>[t(B,null,{default:o(()=>[t(k,{onClick:i=>u(ae)(a)},{default:o(()=>[t(n,null,{default:o(()=>[t(d,{start:""},{default:o(()=>e[10]||(e[10]=[s(" mdi-pencil ",-1)])),_:1,__:[10]}),e[11]||(e[11]=s(" Edit ",-1))]),_:1,__:[11]})]),_:2},1032,["onClick"]),t(k,{onClick:i=>u(ne)(a)},{default:o(()=>[t(n,null,{default:o(()=>[t(d,{start:""},{default:o(()=>e[12]||(e[12]=[s(" mdi-archive ",-1)])),_:1,__:[12]}),e[13]||(e[13]=s(" Archive ",-1))]),_:1,__:[13]})]),_:2},1032,["onClick"]),t(U),t(k,{class:"text-error",onClick:i=>u(se)(a)},{default:o(()=>[t(n,null,{default:o(()=>[t(d,{start:""},{default:o(()=>e[14]||(e[14]=[s(" mdi-delete ",-1)])),_:1,__:[14]}),e[15]||(e[15]=s(" Delete ",-1))]),_:1,__:[15]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})):(f(),b(y,{key:1},{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[t(P,{class:"text-center pa-8 glass-card"},{default:o(()=>[t(d,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:o(()=>e[16]||(e[16]=[s(" mdi-folder-plus ",-1)])),_:1,__:[16]}),e[18]||(e[18]=m("h3",{class:"text-h6 mb-2"}," No Projects Yet ",-1)),e[19]||(e[19]=m("p",{class:"text-body-2 text-medium-emphasis mb-4"}," Create your first project to get started with Olivine ",-1)),t(p,{color:"primary",size:"large","prepend-icon":"mdi-plus",onClick:e[2]||(e[2]=a=>g.value=!0)},{default:o(()=>e[17]||(e[17]=[s(" Create Project ",-1)])),_:1,__:[17]})]),_:1,__:[18,19]})]),_:1})]),_:1})),t(me,{modelValue:u(g),"onUpdate:modelValue":e[3]||(e[3]=a=>R(g)?g.value=a:null),project:u(L),onSave:u(ue)},null,8,["modelValue","project","onSave"]),t(I,{modelValue:u(C),"onUpdate:modelValue":e[5]||(e[5]=a=>R(C)?C.value=a:null),"max-width":"500px"},{default:o(()=>[t(P,null,{default:o(()=>[t(j,null,{default:o(()=>e[20]||(e[20]=[m("span",{class:"text-h5"},"Confirm Delete",-1)])),_:1,__:[20]}),t(S,null,{default:o(()=>e[21]||(e[21]=[s(" Are you sure you want to delete this project? This action cannot be undone. ",-1)])),_:1,__:[21]}),t($,null,{default:o(()=>[t(c),t(p,{color:"blue-darken-1",variant:"text",onClick:e[4]||(e[4]=a=>C.value=!1)},{default:o(()=>e[22]||(e[22]=[s("Cancel",-1)])),_:1,__:[22]}),t(p,{color:"red-darken-1",variant:"text",onClick:u(re)},{default:o(()=>e[23]||(e[23]=[s("Delete",-1)])),_:1,__:[23]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});const Pe=Q(xe,[["__scopeId","data-v-904eb557"]]);export{Pe as default};
