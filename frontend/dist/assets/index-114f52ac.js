import{a as I}from"./index-c29b4afb.js";import{ab as R,c as S,v as x,a5 as n,a7 as _,a8 as u,a9 as o,A as i,E as g,ac as C,ad as V,F as $,ae as F,_ as v,a3 as H,D as q,W as k,u as f}from"./vue-b3dbcb9b.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import"./apollo-9599811a.js";import"./supabase-cf010ec4.js";const m=I(),E=R();function M(){return{notifications:S(()=>m.items)}}function O(){function a(t){m.markRead(t.id),t.link&&E.push(t.link)}function c(t){m.remove(t)}function e(){m.clear()}function s(t){return new Date(t).toLocaleString()}return{open:a,remove:c,clear:e,formatDate:s}}const z=x({__name:"NotificationsHeader",setup(a){return(c,e)=>{const s=n("v-col"),t=n("v-row");return _(),u(t,{class:"mb-4"},{default:o(()=>[i(s,{cols:"12"},{default:o(()=>e[0]||(e[0]=[g("h1",{class:"text-h4 font-weight-bold"},"Notifications & Inbox",-1),g("p",{class:"text-subtitle-1 text-medium-emphasis"},"Manage your notifications and inbox messages",-1)])),_:1,__:[0]})]),_:1})}}});const T=b(z,[["__scopeId","data-v-cd3fedf7"]]),W=x({__name:"NotificationsList",props:{notifications:{type:Array,required:!0},formatDate:{type:Function,required:!0}},emits:["open","remove","clear"],setup(a,{emit:c}){const e=c;function s(l){e("open",l)}function t(l){e("remove",l)}function d(){e("clear")}return(l,p)=>{const h=n("v-list-item-title"),w=n("v-list-item-subtitle"),N=n("v-btn"),y=n("v-list-item"),D=n("v-list"),A=n("v-card-actions"),L=n("v-card");return _(),u(L,{class:"glass-card"},{default:o(()=>[i(D,{density:"comfortable"},{default:o(()=>[(_(!0),C($,null,V(a.notifications,r=>(_(),u(y,{key:r.id,onClick:B=>s(r)},{append:o(()=>[i(N,{icon:"mdi-close",onClick:H(B=>t(r.id),["stop"])},null,8,["onClick"])]),default:o(()=>[i(h,{class:q({"font-weight-medium":!r.read})},{default:o(()=>[v(k(r.message),1)]),_:2},1032,["class"]),i(w,null,{default:o(()=>[v(k(a.formatDate(r.createdAt)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),a.notifications.length===0?(_(),u(y,{key:0,title:"No notifications"})):F("",!0)]),_:1}),i(A,null,{default:o(()=>[i(N,{variant:"text",onClick:d},{default:o(()=>p[0]||(p[0]=[v(" Clear All ",-1)])),_:1,__:[0]})]),_:1})]),_:1})}}});const j=b(W,[["__scopeId","data-v-bfc9c249"]]),G=x({__name:"index",setup(a){const{notifications:c}=M(),{open:e,remove:s,clear:t,formatDate:d}=O();return(l,p)=>(_(),C("div",null,[i(T),i(j,{notifications:f(c),"format-date":f(d),onOpen:f(e),onRemove:f(s),onClear:f(t)},null,8,["notifications","format-date","onOpen","onRemove","onClear"])]))}});const X=b(G,[["__scopeId","data-v-0cb33f71"]]);export{X as default};
