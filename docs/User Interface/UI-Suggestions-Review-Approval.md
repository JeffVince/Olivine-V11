# Suggestions Review & Approval

* [ ] **Suggestions Review & Approval:** A dedicated UI for human-in-the-loop approvals (the "approval shelf") where all AI-generated suggestions are queued for user decision.

  * [ ] **Pending Suggestions Queue:** Display a list of all pending suggestions from AI agents that require approval (e.g. file renames, moves, deletions, policy change recommendations). Each entry should include what the suggestion is (action and target), the reason or context (e.g. "Naming policy mismatch (Footage)" or "Duplicate file detected"), who/what generated it (agent name), and timestamp. For example: an entry might read "ðŸ“„ **Rename File:** `Scene5_shotA.mp4` â†’ `Scene5_CamA_Take1.mp4` â€“ Reason: Naming policy mismatch (suggested by File Steward)". Use icons to denote the type (rename, move, delete, create, etc.). Group suggestions by severity or category if that helps (e.g. all critical naming issues vs minor suggestions).
  * [ ] **Approve/Reject/Modify Controls:** Each suggestion in the list should have clear actions:

    * [ ] **Approve:** Apply the suggested change. When clicked, disable the item (or show it as processing), call the backend to execute (Orchestrator will perform the rename/move via integration), then on success remove it from pending and move it to history. If the operation succeeds, the file system updates (e.g. File Explorer reflects the new name immediately via optimistic update or real-time event). Log the approval in the ledger.
    * [ ] **Reject:** Dismiss the suggestion. Optionally allow the user to add a note explaining why (e.g. "We intentionally use that naming"). Mark the suggestion as rejected (so it won't reappear unless conditions change). The file remains unchanged. Log the rejection (with note if given) in the ledger. Possibly add the file or rule to an ignore list if appropriate to prevent repetitive suggestions (though MVP may skip automatic ignore).
    * [ ] **Edit (Modify):** Allow the user to tweak the suggestion before approving. For example, if the suggested rename isn't ideal, the user can click "Edit", which makes the filename editable in-line or opens a small form to adjust it. After editing, the user can confirm approve, and the system will carry out the modified action. This still counts as an approval (with a user-modified value) â€“ the ledger can reflect that the suggestion was modified and then accepted.
    * [ ] Ensure that these actions (approve/reject/edit) are easy to distinguish and not clicked accidentally (e.g. perhaps Approve in green, Reject in grey/red, Edit as a pencil icon). Possibly include bulk approval: a user could select multiple suggestions via checkboxes and approve them all at once if they trust them (useful if there are dozens of trivial suggestions).
  * [ ] **Batch Operations:** If many suggestions exist, provide tools to manage them efficiently. This includes "Select All" / "Approve All (Shown)" for cases where the user has reviewed them (with a confirmation to avoid mistakes). Also allow filtering or sorting suggestions (e.g. by date, by type). For instance, the user might filter to only "Moves" or only suggestions from a specific agent if the list is long.
  * [ ] **Real-Time Updates:** The suggestions list should update live as new suggestions come in or as they are resolved elsewhere. For example, if the File Steward agent flags a new issue, it should appear in this queue in real-time (perhaps with a subtle highlight for new items). If a suggestion is approved via another UI (e.g. user approved a rename directly in File Explorer), it should be removed from this list promptly.
  * [ ] **Empty States & Confirmation:** If there are no pending suggestions, show a friendly empty state (ðŸŽ‰ "All set â€“ no pending approvals"). When the user approves or rejects an item, give immediate feedback â€“ e.g. a toast "Rename applied successfully" or "Suggestion rejected" â€“ especially if there's any delay in processing the action. If an approval action fails (say the Dropbox API failed to rename due to a conflict), notify the user and keep or return the suggestion to the queue with an error state.
  * [ ] **Multi-User Coordination:** If multiple team members can approve suggestions, ensure the UI reflects when something was handled by someone else. E.g., if User A is viewing the queue and User B approves an item on their end, User A's queue should remove or mark that item as handled without requiring refresh. Possibly note the approver's name in a small italics on that entry's spot ("Approved by B at 3:45pm") before it disappears, or have a "Recently handled" section.
  * [ ] **Pagination/Loading:** If the queue is very large (hundreds of items), paginate or virtualize the list for performance. The default view might show, say, 20 at a time with a "Load more" for older suggestions. Ensure fast initial load with a spinner while fetching suggestions.
